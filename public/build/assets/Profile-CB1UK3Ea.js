import{k as D,m as go,r as f,u as S,p as vo,E as yo,q as wo,g as d,o as m,a,w as $,b as o,d as e,h as xo,i as C,T as Y,n as g,j as v,t,e as V,f as k,v as P,I as ao,F as L,z as T,B as mo,X as ko,J as ho}from"./app-DU0LC3y2.js";import{_ as Co}from"./StaffLayout-tzEsq15f.js";import{_ as y}from"./InputError-CJjjmRN2.js";import{_ as Po}from"./Notif-BO8H3HAM.js";import{_ as Uo}from"./ModalConfirmation-BX3I8pcX.js";/* empty css            */const _o={class:"container me-lg-0 mx-auto mb-5"},$o={class:"row gx-4 mt-4"},Lo={class:"card position-relative shadow"},Ro={class:"dropdown"},jo={key:0,"data-bs-toggle":"dropdown","aria-expanded":"false",class:"btn btn-sm btn-outline-secondary end-0 top-0 position-absolute mt-1 me-1 border-0"},zo={class:"dropdown-menu dropdown-menu-end p-0 shadow"},Io={class:"list-group list-group-flush"},So={class:"list-group-item p-0 d-flex rounded-top"},Vo={class:"list-group-item p-0 d-flex rounded-bottom"},To={class:"modal-dialog modal-dialog-centered px-3 px-lg-0"},Ao={class:"modal-content shadow mt-5"},Mo={class:"modal-header py-1 ps-3 pe-2"},No={class:"modal-body bg-light"},Oo={class:"row justify-content-center"},Bo={class:"col-8 col-lg-7"},Eo={class:"row justify-content-center mt-2"},Fo={class:"col-8 col-lg-7"},qo={class:"row justify-content-center mt-2"},Do={class:"col-8 col-lg-7"},Yo={class:"modal-dialog modal-dialog-centered px-3 px-lg-0"},Wo={class:"modal-content shadow mt-5"},Jo={class:"modal-header py-1 ps-3 pe-2"},Xo={class:"modal-body bg-light"},Go={class:"row justify-content-center mt-3"},Ho={class:"col-7 col-lg-6"},Ko={class:"input-group input-group-sm"},Qo={class:"row justify-content-center mt-3"},Zo={class:"col-7 col-lg-6"},os={class:"input-group input-group-sm"},ss={class:"row justify-content-center mt-3"},ts={class:"col-7 col-lg-6"},es={class:"input-group input-group-sm"},ls={class:"row gx-3 justify-content-center"},is={class:"col-5 col-lg-5 d-flex"},ns={class:"card position-relative my-3 ms-3 w-100"},rs=["src"],as=["href"],ds={class:"col-10 col-lg-7"},ms={class:"d-flex"},us={class:""},bs={class:"text-secondary-emphasis"},ps={class:"d-flex"},fs={class:"text-secondary-emphasis"},cs={class:"d-flex"},gs={class:"text-secondary-emphasis"},vs={class:"d-flex"},ys={class:"text-secondary-emphasis"},ws=["href"],xs={class:"card p-3 mt-4 d-lg-none"},ks={class:"d-flex mt-2"},hs={key:0,class:"col-lg-7 col-12"},Cs={class:"row gx-4"},Ps={class:"col-lg-6 col-12"},Us={key:0,class:"card p-3"},_s={class:"d-flex border-bottom border-primary"},$s={class:"mt-2"},Ls={class:"form-floating"},Rs=["value"],js={class:"mt-2"},zs={class:"form-floating"},Is={class:"mt-2"},Ss={class:"form-floating"},Vs={class:"mt-2"},Ts={class:"form-floating"},As={class:"mt-2"},Ms={class:"collapse",id:"programListCollapse"},Ns=["href"],Os={class:"text-secondary"},Bs={class:"fw-light text-primary"},Es={class:"col-lg-6 col-12"},Fs={key:0,class:"card p-3"},qs={class:"d-flex border-bottom border-primary"},Ds={class:"mt-1"},Ys={class:"mt-1"},Ws={class:"text-secondary"},Js={class:"mt-3 border-top border-primary"},Xs={class:"form-floating"},Gs=["value"],Hs={class:"mt-2"},Ks={class:"form-floating"},Qs={class:"mt-2 d-flex"},Zs={class:"text-dark ms-2"},ot={class:"mt-2 d-flex"},st=["href"],at={__name:"Profile",props:{profile:Object,logbook_list:Array,program_list:Array,contribution_settings:Object,contribution:Object,notif:Object,errors:Object},setup(l){const _=l,x=D(()=>go().props.auth.user),W=D(()=>_.profile.name+" Profile"),uo=f(null),A=f(null),J=f(null),M=f(null),X=f(null),N=f(null),G=f(null),O=f(null),B=f(null),U=f(1),E=f(0),R=D(()=>new Date().getMonth()+1),h=S({name:_.profile.name,phone:_.profile.phone,profile_image:_.profile.profile_image}),c=S({old_password:null,password:null,password_confirmation:null}),u=S({program_id:null,date_time:null,description:null,image:null}),w=S({month:null,receipt:null});function H(){h.post(route("profile.update"),{onSuccess:()=>{j(!1)},onError:r=>{var s;((s=r.profile_image)==null?void 0:s.length)>0&&A.value.showToast("warning",r.profile_image)}})}function bo(){c.post(route("password.change"),{onSuccess:()=>{oo(!1),c.reset()}})}function po(){u.post(route("logbook.add"),{onSuccess:()=>{u.reset(),O.value&&(O.value.value="")}})}function fo(){w.post(route("contribution.insert"),{onSuccess:()=>{w.reset(),B.value&&(B.value.value="")}})}function co(){G.value.click()}const K=r=>{h.profile_image=r.target.files[0],H()},Q=r=>{u.image=r.target.files[0]},Z=r=>{w.receipt=r.target.files[0]};function j(r){M.value=bootstrap.Modal.getOrCreateInstance(J.value),r?M.value.show():M.value.hide()}function oo(r){N.value=bootstrap.Modal.getOrCreateInstance(X.value),r?N.value.show():N.value.hide()}function F(){U.value=E.value}function z(r){E.value=r,U.value=0,console.log(E.value,U.value)}const q=(r,s)=>{var i=document.getElementById(r),b=document.getElementById(s);i.type==="password"?(i.type="text",b.classList.remove("bi-eye-slash-fill"),b.classList.add("bi-eye-fill")):(i.type="password",b.classList.remove("bi-eye-fill"),b.classList.add("bi-eye-slash-fill"))},I=f(window.innerWidth>=768),so=()=>{I.value=window.innerWidth>=768};return vo(()=>{window.addEventListener("resize",so)}),yo(()=>{window.removeEventListener("resize",so)}),wo(()=>_.notif,r=>{const s=r;A.value.showToast(s.type,s.message)}),(r,s)=>(m(),d(L,null,[a(Co,null,{header:$(()=>[v(t(W.value),1)]),default:$(()=>[a(e(xo),{title:W.value,icon:"/storage/local/images/apps/logo.png"},null,8,["title"]),a(Uo,{ref_key:"modalConfirmationRef",ref:uo},null,512),o("div",_o,[o("div",$o,[a(Y,{name:"fade-slide-ltr",onAfterLeave:s[19]||(s[19]=i=>F())},{default:$(()=>{var i,b;return[U.value==1||I.value?(m(),d("div",{key:0,class:g("col-12 "+(x.value.id==l.profile.id?"col-lg-5":"col-lg-9"))},[o("div",Lo,[o("div",Ro,[x.value.id==l.profile.id?(m(),d("button",jo,[...s[32]||(s[32]=[o("i",{class:"bi bi-gear-fill"},null,-1)])])):C("",!0),o("div",zo,[o("ul",Io,[o("li",So,[o("button",{class:"btn btn-sm border-0 w-100 card-bg-hover text-start",onClick:s[0]||(s[0]=n=>j(!0))},[...s[33]||(s[33]=[o("i",{class:"bi bi-person-vcard text-secondary me-2"},null,-1),v(t("Profile"),-1)])])]),o("li",Vo,[o("button",{onClick:s[1]||(s[1]=n=>oo(!0)),class:"btn btn-sm border-0 w-100 card-bg-hover text-start"},[...s[34]||(s[34]=[o("i",{class:"bi bi-key text-secondary me-2"},null,-1),v(t("Password"),-1)])])])])]),x.value.id==l.profile.id?(m(),d("div",{key:1,class:"modal fade",ref_key:"modalUpdateProfileRef",ref:J,tabindex:"-1"},[o("div",To,[o("div",Ao,[o("div",Mo,[s[36]||(s[36]=o("span",{class:"modal-title fs-5 text-primary-emphasis"},[o("i",{class:"bi bi-person-vcard border-secondary-subtle border-2 border-end pe-2"}),v(" "+t("Update Profile"))],-1)),o("button",{type:"button",class:"btn btn-sm ms-auto",onClick:s[2]||(s[2]=n=>j(!1))},[...s[35]||(s[35]=[o("i",{class:"bi bi-x-lg"},null,-1)])])]),o("form",{method:"post",onSubmit:s[5]||(s[5]=V(n=>H(),["prevent"]))},[o("div",No,[o("div",Oo,[s[37]||(s[37]=o("div",{class:"col-4 col-lg-3 d-flex"},[o("label",{class:"form-label d-inline-block my-auto"},t("Email"))],-1)),o("div",Bo,[o("span",null,t(l.profile.email),1)])]),o("div",Eo,[s[38]||(s[38]=o("div",{class:"col-4 col-lg-3 d-flex"},[o("label",{for:"profile_name",class:"form-label d-inline-block my-auto"},t("Name"))],-1)),o("div",Fo,[k(o("input",{id:"profile_name",type:"text",class:"form-control form-control-sm d-inline-block","onUpdate:modelValue":s[3]||(s[3]=n=>e(h).name=n),required:""},null,512),[[P,e(h).name]]),a(y,{message:e(h).errors.name},null,8,["message"])])]),o("div",qo,[s[39]||(s[39]=o("div",{class:"col-4 col-lg-3 d-flex"},[o("label",{for:"profile_phone",class:"form-label d-inline-block my-auto"},t("Phone"))],-1)),o("div",Do,[k(o("input",{id:"profile_phone",type:"tel",class:"form-control form-control-sm d-inline-block","onUpdate:modelValue":s[4]||(s[4]=n=>e(h).phone=n),required:""},null,512),[[P,e(h).phone]]),a(y,{message:e(h).errors.phone},null,8,["message"])])])]),s[40]||(s[40]=o("div",{class:"modal-footer p-1"},[o("button",{type:"submit",class:"btn btn-sm btn-primary"},t("Update"))],-1))],32)])])],512)):C("",!0),x.value.id==l.profile.id?(m(),d("div",{key:2,class:"modal fade",ref_key:"modalUpdatePasswordRef",ref:X,tabindex:"-1"},[o("div",Yo,[o("div",Wo,[o("div",Jo,[s[42]||(s[42]=o("span",{class:"modal-title fs-5 text-primary-emphasis"},[o("i",{class:"bi bi-key border-secondary-subtle border-2 border-end pe-2"}),v(" "+t("Update Password"))],-1)),o("button",{type:"button",class:"btn btn-sm ms-auto",onClick:s[6]||(s[6]=n=>j(!1))},[...s[41]||(s[41]=[o("i",{class:"bi bi-x-lg"},null,-1)])])]),o("form",{method:"post",onSubmit:s[13]||(s[13]=V(n=>bo(),["prevent"]))},[o("div",Xo,[s[49]||(s[49]=o("div",{class:"row justify-content-center"},[o("div",{class:"col-10"},[o("span",{class:"text-secondary d-block",style:{"text-align":"justify"}},t("Be caution, you will update your password account. If you are forget, you can choose 'forget password' in the login or register page."))])],-1)),o("div",Go,[s[44]||(s[44]=o("div",{class:"col-5 col-lg-4"},[o("label",{for:"old_password",class:"form-label my-1"},"Old Password")],-1)),o("div",Ho,[o("div",Ko,[k(o("input",{type:"password",class:"form-control form-control-sm",id:"old_password","onUpdate:modelValue":s[7]||(s[7]=n=>e(c).old_password=n),autocomplete:"password",required:""},null,512),[[P,e(c).old_password]]),o("button",{type:"button",class:"btn bg-light text-secondary",onClick:s[8]||(s[8]=n=>q("old_password","old_password_icon"))},[...s[43]||(s[43]=[o("i",{class:"bi bi-eye-slash-fill",id:"old_password_icon"},null,-1)])])]),a(y,{message:e(c).errors.old_password},null,8,["message"])])]),o("div",Qo,[s[46]||(s[46]=o("div",{class:"col-5 col-lg-4"},[o("label",{for:"password",class:"form-label my-1"},"New Password")],-1)),o("div",Zo,[o("div",os,[k(o("input",{type:"password",class:"form-control form-control-sm",id:"password","onUpdate:modelValue":s[9]||(s[9]=n=>e(c).password=n),required:""},null,512),[[P,e(c).password]]),o("button",{type:"button",class:"btn bg-light text-secondary",onClick:s[10]||(s[10]=n=>q("password","password_icon"))},[...s[45]||(s[45]=[o("i",{class:"bi bi-eye-slash-fill",id:"password_icon"},null,-1)])])]),a(y,{message:e(c).errors.password},null,8,["message"])])]),o("div",ss,[s[48]||(s[48]=o("div",{class:"col-5 col-lg-4"},[o("label",{for:"password_confirmation",class:"form-label my-1"},"Confirm Password")],-1)),o("div",ts,[o("div",es,[k(o("input",{type:"password",class:"form-control form-control-sm",id:"password_confirmation","onUpdate:modelValue":s[11]||(s[11]=n=>e(c).password_confirmation=n),required:""},null,512),[[P,e(c).password_confirmation]]),o("button",{type:"button",class:"btn bg-light text-secondary",onClick:s[12]||(s[12]=n=>q("password_confirmation","password_confirmation_icon"))},[...s[47]||(s[47]=[o("i",{class:"bi bi-eye-slash-fill",id:"password_confirmation_icon"},null,-1)])])]),a(y,{message:e(c).errors.password_confirmation},null,8,["message"])])])]),s[50]||(s[50]=o("div",{class:"modal-footer p-1"},[o("button",{type:"submit",class:"btn btn-sm btn-primary"},t("Update"))],-1))],32)])])],512)):C("",!0)]),o("div",ls,[o("div",is,[o("div",ns,[o("img",{src:"/storage/images/profile/"+(((i=l.profile)==null?void 0:i.profile_image)??"example.png"),alt:"image",class:"img-fluid w-100 h-100 object-fit-cover rounded border-secondary-subtle border-1 shadow placeholder",onLoad:s[14]||(s[14]=(...n)=>e(ao)&&e(ao)(...n)),style:{"min-height":"200px"}},null,40,rs),o("a",{href:"/storage/images/profile/"+(((b=l.profile)==null?void 0:b.profile_image)??"example.png"),class:g("btn btn-sm btn-primary border-0 shadow rounded-5 position-absolute end-0 bottom-0 mb-2 "+(x.value.id!==l.profile.id?"me-2":"")),style:{"font-size":"0.6rem",padding:"0.15rem 0.34rem","margin-right":"2.5rem"},download:""},[...s[51]||(s[51]=[o("i",{class:"bi bi-download"},null,-1)])],10,as),x.value.id==l.profile.id?(m(),d("button",{key:0,onClick:s[15]||(s[15]=n=>co()),class:"btn btn-sm btn-primary border-0 shadow rounded-5 position-absolute end-0 bottom-0 me-2 mb-2"},[...s[52]||(s[52]=[o("i",{class:"bi bi-camera"},null,-1)])])):C("",!0),o("input",{ref_key:"inputProfileImageRef",ref:G,type:"file",class:"d-none",onChange:s[16]||(s[16]=(...n)=>K&&K(...n))},null,544)])]),o("div",ds,[o("div",ms,[s[54]||(s[54]=o("i",{class:"bi bi-person text-secondary d-lg-none fs-5 me-3 mt-1"},null,-1)),o("div",us,[s[53]||(s[53]=o("p",{class:"text-secondary mb-0 mt-lg-3",style:{"font-size":"0.8rem"}},t("Name"),-1)),o("p",bs,t(l.profile.name),1)])]),o("div",ps,[s[56]||(s[56]=o("i",{class:"bi bi-person-badge text-secondary d-lg-none fs-5 me-3 mt-1"},null,-1)),o("div",null,[s[55]||(s[55]=o("p",{class:"text-secondary mb-0",style:{"font-size":"0.8rem"}},t("Role"),-1)),o("p",fs,t(l.profile.roles.name),1)])]),o("div",cs,[s[58]||(s[58]=o("i",{class:"bi bi-envelope-at text-secondary d-lg-none fs-5 me-3 mt-1"},null,-1)),o("div",null,[s[57]||(s[57]=o("p",{class:"text-secondary mb-0",style:{"font-size":"0.8rem"}},t("Email"),-1)),o("p",gs,t(l.profile.email),1)])]),o("div",vs,[s[61]||(s[61]=o("i",{class:"bi bi-whatsapp text-secondary d-lg-none fs-5 me-3 mt-1"},null,-1)),o("div",null,[s[60]||(s[60]=o("p",{class:"text-secondary mb-0",style:{"font-size":"0.8rem"}},t("Phone"),-1)),o("p",ys,[o("a",{href:"https://wa.me/+62"+l.profile.phone.slice(1),target:"_blank",class:"text-decoration-none text-primary"},[s[59]||(s[59]=o("i",{class:"bi bi-whatsapp d-none d-lg-inline"},null,-1)),v(" "+t(l.profile.phone),1)],8,ws)])])])])])]),o("div",xs,[s[64]||(s[64]=o("div",{class:"d-flex border-bottom border-secondary pb-1"},[o("span",{class:"text-secondary"},t("Duties and Obligations"))],-1)),o("div",ks,[o("button",{class:"btn btn-sm",onClick:s[17]||(s[17]=n=>z(2))},[...s[62]||(s[62]=[o("div",{class:"d-flex"},[o("i",{class:"bi bi-journal-bookmark rounded-4 fs-1 text-primary border border-primary-subtle border-1 shadow-sm py-1 px-2 d-block mx-auto"})],-1),o("span",{class:"fw-light d-block mt-1",style:{"font-size":"0.8rem"}},t("Logbook"),-1)])]),o("button",{class:"ms-4 btn btn-sm",onClick:s[18]||(s[18]=n=>z(3))},[...s[63]||(s[63]=[o("div",{class:"d-flex"},[o("i",{class:"bi bi-journal-text rounded-4 fs-1 text-primary border border-primary-subtle border-1 shadow-sm py-1 px-2 mx-auto"})],-1),o("span",{class:"fw-light d-block mt-1",style:{"font-size":"0.8rem"}},t("Contribution"),-1)])])])])],2)):C("",!0)]}),_:1}),x.value.id==l.profile.id?(m(),d("div",hs,[o("div",Cs,[o("div",Ps,[a(Y,{name:"fade-slide-rtl",onAfterLeave:s[26]||(s[26]=i=>F())},{default:$(()=>[U.value==2||I.value?(m(),d("div",Us,[o("div",_s,[s[66]||(s[66]=o("span",{class:"w-100 text-primary-emphasis h5"},[o("i",{class:"bi bi-journal-bookmark me-2 fs-6"}),v(t("Logbook"))],-1)),o("button",{class:"btn btn-sm text-primary fw-light ms-auto p-0 d-lg-none d-flex",onClick:s[20]||(s[20]=i=>z(1))},[...s[65]||(s[65]=[o("i",{class:"bi bi-chevron-left"},null,-1),v(" "+t("Back"),-1)])])]),o("form",{onSubmit:s[25]||(s[25]=V(i=>po(),["prevent"]))},[o("div",$s,[o("div",Ls,[k(o("select",{class:g("form-select border-0 border-bottom "+(e(u).errors.program_id?"is-invalid":"")),id:"logbook_program","aria-label":"Floating label select example","onUpdate:modelValue":s[21]||(s[21]=i=>e(u).program_id=i),required:""},[s[67]||(s[67]=o("option",{value:"null",selected:""},t("Choose here"),-1)),(m(!0),d(L,null,T(l.program_list,i=>{var b;return m(),d("option",{value:i.program_id},t(((b=i.program)==null?void 0:b.name)+" as "+i.title),9,Rs)}),256))],2),[[mo,e(u).program_id]]),s[68]||(s[68]=o("label",{for:"logbook_program"},"Program",-1))]),a(y,{message:e(u).errors.program_id},null,8,["message"])]),o("div",js,[o("div",zs,[k(o("input",{type:"date",class:g("form-control border-0 border-bottom  "+(e(u).errors.date_time?"is-invalid":"")),id:"logbook_date","onUpdate:modelValue":s[22]||(s[22]=i=>e(u).date_time=i)},null,2),[[P,e(u).date_time]]),s[69]||(s[69]=o("label",{for:"logbook_date"},"Date & Time",-1))]),a(y,{message:e(u).errors.date_time},null,8,["message"])]),o("div",Is,[o("div",Ss,[o("input",{type:"file",class:g("form-control border-0 border-bottom  "+(e(u).errors.image?"is-invalid":"")),id:"logbook_image",ref_key:"logbookImageRef",ref:O,onChange:s[23]||(s[23]=(...i)=>Q&&Q(...i))},null,34),s[70]||(s[70]=o("label",{for:"logbook_image"},t("Image Photo"),-1))]),a(y,{message:e(u).errors.image},null,8,["message"])]),o("div",Vs,[o("div",Ts,[k(o("textarea",{class:"form-control border-0 border-bottom",id:"logbook_description",style:{height:"84px"},"onUpdate:modelValue":s[24]||(s[24]=i=>e(u).description=i),placeholder:"Add description of your activities"},null,512),[[P,e(u).description]]),s[71]||(s[71]=o("label",{for:"logbook_description"},t("Description"),-1))]),a(y,{message:e(u).errors.description},null,8,["message"])]),s[72]||(s[72]=o("div",{class:"mt-3"},[o("button",{type:"submit",class:"btn btn-sm btn-primary w-100"},t("Add Logbook"))],-1))],32),o("div",As,[s[75]||(s[75]=o("div",{class:"d-flex"},[o("button",{class:"btn btn-sm border-0 ms-auto text-primary text-decoration-none p-0",style:{"font-size":"0.7rem"},"data-bs-toggle":"collapse","data-bs-target":"#programListCollapse"},t("check my logbook"))],-1)),o("div",Ms,[(m(!0),d(L,null,T(l.program_list,i=>{var b;return m(),d("a",{href:r.route("checkLogbook",[i.program_id,x.value.id]),class:g("text-decoration-none ")},[o("div",{class:g("d-flex "+(l.program_list.indexOf(i)>0?"mt-2":"")),style:{"font-size":"0.8rem"}},[o("span",Os,t(((b=i.program)==null?void 0:b.name)??i.program_id),1),s[73]||(s[73]=o("span",{class:"fw-light text-secondary mx-2"},t("as"),-1)),o("span",Bs,t(i.title),1),s[74]||(s[74]=o("i",{class:"bi bi-box-arrow-up-right ms-1 text-primary"},null,-1))],2)],8,Ns)}),256))])])])):C("",!0)]),_:1})]),o("div",Es,[a(Y,{name:"fade-slide-rtl",onAfterLeave:s[31]||(s[31]=i=>F())},{default:$(()=>{var i,b,n,to,eo;return[U.value==3||I.value?(m(),d("div",Fs,[o("div",qs,[s[77]||(s[77]=o("span",{class:"w-100 text-primary-emphasis h5"},[o("i",{class:"bi bi-journal-text me-2 fs-6"}),v(t("Contribution"))],-1)),o("button",{class:"btn btn-sm text-primary fw-light ms-auto p-0 d-lg-none d-flex",onClick:s[27]||(s[27]=p=>z(1))},[...s[76]||(s[76]=[o("i",{class:"bi bi-chevron-left mb-0"},null,-1),v(" "+t("Back"),-1)])])]),s[84]||(s[84]=o("div",{class:"mt-2"},[o("span",{class:"text-secondary",style:{"font-size":"0.8rem"}},t("Your progress :"))],-1)),o("div",Ds,[(m(!0),d(L,null,T(l.contribution_settings.period,p=>{var lo,io,no,ro;return m(),d("div",{class:g("btn shadow-sm px-1 py-0 me-1 "+(p+((lo=l.contribution_settings)==null?void 0:lo.start)-1<=R.value&&p>(l.contribution?(io=l.contribution)==null?void 0:io.months:0)?"bg-danger bg-opacity-25":"")+(p<=((no=l.contribution)==null?void 0:no.months)?"bg-primary bg-opacity-25":"bg-secondary bg-opacity-25 border-dark-subtle border-1"))},[o("span",{style:{"font-size":"0.7rem"},class:g("position-relative "+(p<=((ro=l.contribution)==null?void 0:ro.months)?"text-primary ":"text-secondary "))},t(e(ko)(p+l.contribution_settings.start-1,"short")),3)],2)}),256))]),s[85]||(s[85]=o("div",{class:"mt-2 d-flex"},[o("span",{class:"text-secondary me-2",style:{"font-size":"0.8rem"}},t("Status :"))],-1)),o("div",Ys,[o("span",Ws,t(l.contribution_settings.start+(l.contribution?l.contribution.months-1:0)<=R.value?"You have unpaid bill for "+(R.value-((i=l.contribution_settings)==null?void 0:i.start)-(l.contribution?l.contribution.months-1:-1)+(R.value-((b=l.contribution_settings)==null?void 0:b.start)-(l.contribution?l.contribution.months-1:-1)>1?" months":" month")):"You are on track."),1)]),o("form",{onSubmit:s[30]||(s[30]=V(p=>fo(),["prevent"]))},[o("div",Js,[o("div",Xs,[k(o("select",{class:g("form-select border-0 border-bottom "+(e(w).errors.month?"is-invalid":"")),id:"contribution_month","aria-label":"Floating label select example","onUpdate:modelValue":s[28]||(s[28]=p=>e(w).month=p),required:""},[s[78]||(s[78]=o("option",{value:"null",selected:""},t("Choose here"),-1)),(m(!0),d(L,null,T(((n=l.contribution_settings)==null?void 0:n.period)-(l.contribution?(to=l.contribution)==null?void 0:to.months:0),p=>(m(),d("option",{value:p,class:"position-relative"},t(p+(p>1?" months":" month")),9,Gs))),256))],2),[[mo,e(w).month]]),s[79]||(s[79]=o("label",{for:"contribution_month"},t("Pay for"),-1))]),a(y,{message:e(w).errors.month},null,8,["message"])]),o("div",Hs,[o("div",Ks,[o("input",{type:"file",class:g("form-control border-0 border-bottom  "+(e(w).errors.receipt?"is-invalid":"")),id:"contribution_receipt",ref_key:"contributionReceiptRef",ref:B,onChange:s[29]||(s[29]=(...p)=>Z&&Z(...p))},null,34),s[80]||(s[80]=o("label",{for:"contribution_receipt"},t("Receipt"),-1))]),a(y,{message:e(w).errors.receipt},null,8,["message"])]),o("div",Qs,[s[81]||(s[81]=o("span",{class:"ms-auto text-secondary"},t("Price : "),-1)),o("span",Zs,t(e(ho)(((eo=l.contribution_settings)==null?void 0:eo.price)*e(w).month)),1)]),s[82]||(s[82]=o("div",{class:"mt-3"},[o("button",{type:"submit",class:"btn btn-sm btn-primary w-100"},t("Add Contribution"))],-1))],32),o("div",ot,[o("a",{class:"ms-auto text-primary text-decoration-none",style:{"font-size":"0.7rem"},href:r.route("checkContribution",x.value.id)},[...s[83]||(s[83]=[v(t("check my contribution")+" ",-1),o("i",{class:"bi bi-box-arrow-up-right ms-1"},null,-1)])],8,st)])])):C("",!0)]}),_:1})])])])):C("",!0)])])]),_:1}),a(Po,{ref_key:"toastNotifRef",ref:A},null,512)],64))}};export{at as default};
