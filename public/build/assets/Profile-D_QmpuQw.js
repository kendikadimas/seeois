import{k as q,s as go,r as f,u as I,D as vo,H as yo,p as wo,c as d,o as m,b as a,j as L,a as o,d as e,h as xo,f as C,T as Y,n as g,i as v,t as s,w as V,e as k,g as P,F as _,y as T,C as ao}from"./app-BNtVQNrL.js";import{S as ko}from"./StaffLayout--5yK7-8I.js";import{_ as y}from"./InputError-DliHjbtp.js";import{_ as ho}from"./Notif-Bg7tiFP3.js";import{_ as Co}from"./ModalConfirmation-Cxu8SiV9.js";import{a as mo,g as Po,f as Uo}from"./utils-Dr-qEmMV.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./format-DFpGNh8k.js";const $o={class:"container me-lg-0 mx-auto mb-5"},Lo={class:"row gx-4 mt-4"},_o={class:"card position-relative shadow"},Ro={class:"dropdown"},jo={key:0,"data-bs-toggle":"dropdown","aria-expanded":"false",class:"btn btn-sm btn-outline-secondary end-0 top-0 position-absolute mt-1 me-1 border-0"},So={class:"dropdown-menu dropdown-menu-end p-0 shadow"},zo={class:"list-group list-group-flush"},Io={class:"list-group-item p-0 d-flex rounded-top"},Vo={class:"list-group-item p-0 d-flex rounded-bottom"},To={class:"modal-dialog modal-dialog-centered px-3 px-lg-0"},Ao={class:"modal-content shadow mt-5"},Mo={class:"modal-header py-1 ps-3 pe-2"},No={class:"modal-body bg-light"},Oo={class:"row justify-content-center"},Fo={class:"col-8 col-lg-7"},Bo={class:"row justify-content-center mt-2"},Do={class:"col-8 col-lg-7"},Eo={class:"row justify-content-center mt-2"},qo={class:"col-8 col-lg-7"},Yo={class:"modal-dialog modal-dialog-centered px-3 px-lg-0"},Wo={class:"modal-content shadow mt-5"},Ho={class:"modal-header py-1 ps-3 pe-2"},Go={class:"modal-body bg-light"},Jo={class:"row justify-content-center mt-3"},Ko={class:"col-7 col-lg-6"},Qo={class:"input-group input-group-sm"},Xo={class:"row justify-content-center mt-3"},Zo={class:"col-7 col-lg-6"},ot={class:"input-group input-group-sm"},tt={class:"row justify-content-center mt-3"},st={class:"col-7 col-lg-6"},et={class:"input-group input-group-sm"},lt={class:"row gx-3 justify-content-center"},it={class:"col-5 col-lg-5 d-flex"},nt={class:"card position-relative my-3 ms-3 w-100"},rt=["src"],at=["href"],dt={class:"col-10 col-lg-7"},mt={class:"d-flex"},ut={class:""},bt={class:"text-secondary-emphasis"},pt={class:"d-flex"},ft={class:"text-secondary-emphasis"},ct={class:"d-flex"},gt={class:"text-secondary-emphasis"},vt={class:"d-flex"},yt={class:"text-secondary-emphasis"},wt=["href"],xt={class:"card p-3 mt-4 d-lg-none"},kt={class:"d-flex mt-2"},ht={key:0,class:"col-lg-7 col-12"},Ct={class:"row gx-4"},Pt={class:"col-lg-6 col-12"},Ut={key:0,class:"card p-3"},$t={class:"d-flex border-bottom border-primary"},Lt={class:"mt-2"},_t={class:"form-floating"},Rt=["value"],jt={class:"mt-2"},St={class:"form-floating"},zt={class:"mt-2"},It={class:"form-floating"},Vt={class:"mt-2"},Tt={class:"form-floating"},At={class:"mt-2"},Mt={class:"collapse",id:"programListCollapse"},Nt=["href"],Ot={class:"text-secondary"},Ft={class:"fw-light text-primary"},Bt={class:"col-lg-6 col-12"},Dt={key:0,class:"card p-3"},Et={class:"d-flex border-bottom border-primary"},qt={class:"mt-1"},Yt={class:"mt-1"},Wt={class:"text-secondary"},Ht={class:"mt-3 border-top border-primary"},Gt={class:"form-floating"},Jt=["value"],Kt={class:"mt-2"},Qt={class:"form-floating"},Xt={class:"mt-2 d-flex"},Zt={class:"text-dark ms-2"},os={class:"mt-2 d-flex"},ts=["href"],ms={__name:"Profile",props:{profile:Object,logbook_list:Array,program_list:Array,contribution_settings:Object,contribution:Object,notif:Object,errors:Object},setup(l){const $=l,x=q(()=>go().props.auth.user),W=q(()=>$.profile.name+" Profile"),uo=f(null),A=f(null),H=f(null),M=f(null),G=f(null),N=f(null),J=f(null),O=f(null),F=f(null),U=f(1),B=f(0),R=q(()=>new Date().getMonth()+1),h=I({name:$.profile.name,phone:$.profile.phone,profile_image:$.profile.profile_image}),c=I({old_password:null,password:null,password_confirmation:null}),u=I({program_id:null,date_time:null,description:null,image:null}),w=I({month:null,receipt:null});function K(){h.post(route("profile.update"),{onSuccess:()=>{j(!1)},onError:r=>{var t;((t=r.profile_image)==null?void 0:t.length)>0&&A.value.showToast("warning",r.profile_image)}})}function bo(){c.post(route("password.change"),{onSuccess:()=>{oo(!1),c.reset()}})}function po(){u.post(route("logbook.add"),{onSuccess:()=>{u.reset(),O.value&&(O.value.value="")}})}function fo(){w.post(route("contribution.insert"),{onSuccess:()=>{w.reset(),F.value&&(F.value.value="")}})}function co(){J.value.click()}const Q=r=>{h.profile_image=r.target.files[0],K()},X=r=>{u.image=r.target.files[0]},Z=r=>{w.receipt=r.target.files[0]};function j(r){M.value=bootstrap.Modal.getOrCreateInstance(H.value),r?M.value.show():M.value.hide()}function oo(r){N.value=bootstrap.Modal.getOrCreateInstance(G.value),r?N.value.show():N.value.hide()}function D(){U.value=B.value}function S(r){B.value=r,U.value=0,console.log(B.value,U.value)}const E=(r,t)=>{var i=document.getElementById(r),b=document.getElementById(t);i.type==="password"?(i.type="text",b.classList.remove("bi-eye-slash-fill"),b.classList.add("bi-eye-fill")):(i.type="password",b.classList.remove("bi-eye-fill"),b.classList.add("bi-eye-slash-fill"))},z=f(window.innerWidth>=768),to=()=>{z.value=window.innerWidth>=768};return vo(()=>{window.addEventListener("resize",to)}),yo(()=>{window.removeEventListener("resize",to)}),wo(()=>$.notif,r=>{const t=r;A.value.showToast(t.type,t.message)}),(r,t)=>(m(),d(_,null,[a(ko,null,{header:L(()=>[v(s(W.value),1)]),default:L(()=>[a(e(xo),{title:W.value,icon:r.$imageUrl("apps/logo.png")},null,8,["title","icon"]),a(Co,{ref_key:"modalConfirmationRef",ref:uo},null,512),o("div",$o,[o("div",Lo,[a(Y,{name:"fade-slide-ltr",onAfterLeave:t[19]||(t[19]=i=>D())},{default:L(()=>{var i,b;return[U.value==1||z.value?(m(),d("div",{key:0,class:g("col-12 "+(x.value.id==l.profile.id?"col-lg-5":"col-lg-9"))},[o("div",_o,[o("div",Ro,[x.value.id==l.profile.id?(m(),d("button",jo,[...t[32]||(t[32]=[o("i",{class:"bi bi-gear-fill"},null,-1)])])):C("",!0),o("div",So,[o("ul",zo,[o("li",Io,[o("button",{class:"btn btn-sm border-0 w-100 card-bg-hover text-start",onClick:t[0]||(t[0]=n=>j(!0))},[...t[33]||(t[33]=[o("i",{class:"bi bi-person-vcard text-secondary me-2"},null,-1),v(s("Profile"),-1)])])]),o("li",Vo,[o("button",{onClick:t[1]||(t[1]=n=>oo(!0)),class:"btn btn-sm border-0 w-100 card-bg-hover text-start"},[...t[34]||(t[34]=[o("i",{class:"bi bi-key text-secondary me-2"},null,-1),v(s("Password"),-1)])])])])]),x.value.id==l.profile.id?(m(),d("div",{key:1,class:"modal fade",ref_key:"modalUpdateProfileRef",ref:H,tabindex:"-1"},[o("div",To,[o("div",Ao,[o("div",Mo,[t[36]||(t[36]=o("span",{class:"modal-title fs-5 text-primary-emphasis"},[o("i",{class:"bi bi-person-vcard border-secondary-subtle border-2 border-end pe-2"}),v(" "+s("Update Profile"))],-1)),o("button",{type:"button",class:"btn btn-sm ms-auto",onClick:t[2]||(t[2]=n=>j(!1))},[...t[35]||(t[35]=[o("i",{class:"bi bi-x-lg"},null,-1)])])]),o("form",{method:"post",onSubmit:t[5]||(t[5]=V(n=>K(),["prevent"]))},[o("div",No,[o("div",Oo,[t[37]||(t[37]=o("div",{class:"col-4 col-lg-3 d-flex"},[o("label",{class:"form-label d-inline-block my-auto"},s("Email"))],-1)),o("div",Fo,[o("span",null,s(l.profile.email),1)])]),o("div",Bo,[t[38]||(t[38]=o("div",{class:"col-4 col-lg-3 d-flex"},[o("label",{for:"profile_name",class:"form-label d-inline-block my-auto"},s("Name"))],-1)),o("div",Do,[k(o("input",{id:"profile_name",type:"text",class:"form-control form-control-sm d-inline-block","onUpdate:modelValue":t[3]||(t[3]=n=>e(h).name=n),required:""},null,512),[[P,e(h).name]]),a(y,{message:e(h).errors.name},null,8,["message"])])]),o("div",Eo,[t[39]||(t[39]=o("div",{class:"col-4 col-lg-3 d-flex"},[o("label",{for:"profile_phone",class:"form-label d-inline-block my-auto"},s("Phone"))],-1)),o("div",qo,[k(o("input",{id:"profile_phone",type:"tel",class:"form-control form-control-sm d-inline-block","onUpdate:modelValue":t[4]||(t[4]=n=>e(h).phone=n),required:""},null,512),[[P,e(h).phone]]),a(y,{message:e(h).errors.phone},null,8,["message"])])])]),t[40]||(t[40]=o("div",{class:"modal-footer p-1"},[o("button",{type:"submit",class:"btn btn-sm btn-primary"},s("Update"))],-1))],32)])])],512)):C("",!0),x.value.id==l.profile.id?(m(),d("div",{key:2,class:"modal fade",ref_key:"modalUpdatePasswordRef",ref:G,tabindex:"-1"},[o("div",Yo,[o("div",Wo,[o("div",Ho,[t[42]||(t[42]=o("span",{class:"modal-title fs-5 text-primary-emphasis"},[o("i",{class:"bi bi-key border-secondary-subtle border-2 border-end pe-2"}),v(" "+s("Update Password"))],-1)),o("button",{type:"button",class:"btn btn-sm ms-auto",onClick:t[6]||(t[6]=n=>j(!1))},[...t[41]||(t[41]=[o("i",{class:"bi bi-x-lg"},null,-1)])])]),o("form",{method:"post",onSubmit:t[13]||(t[13]=V(n=>bo(),["prevent"]))},[o("div",Go,[t[49]||(t[49]=o("div",{class:"row justify-content-center"},[o("div",{class:"col-10"},[o("span",{class:"text-secondary d-block",style:{"text-align":"justify"}},s("Be caution, you will update your password account. If you are forget, you can choose 'forget password' in the login or register page."))])],-1)),o("div",Jo,[t[44]||(t[44]=o("div",{class:"col-5 col-lg-4"},[o("label",{for:"old_password",class:"form-label my-1"},"Old Password")],-1)),o("div",Ko,[o("div",Qo,[k(o("input",{type:"password",class:"form-control form-control-sm",id:"old_password","onUpdate:modelValue":t[7]||(t[7]=n=>e(c).old_password=n),autocomplete:"password",required:""},null,512),[[P,e(c).old_password]]),o("button",{type:"button",class:"btn bg-light text-secondary",onClick:t[8]||(t[8]=n=>E("old_password","old_password_icon"))},[...t[43]||(t[43]=[o("i",{class:"bi bi-eye-slash-fill",id:"old_password_icon"},null,-1)])])]),a(y,{message:e(c).errors.old_password},null,8,["message"])])]),o("div",Xo,[t[46]||(t[46]=o("div",{class:"col-5 col-lg-4"},[o("label",{for:"password",class:"form-label my-1"},"New Password")],-1)),o("div",Zo,[o("div",ot,[k(o("input",{type:"password",class:"form-control form-control-sm",id:"password","onUpdate:modelValue":t[9]||(t[9]=n=>e(c).password=n),required:""},null,512),[[P,e(c).password]]),o("button",{type:"button",class:"btn bg-light text-secondary",onClick:t[10]||(t[10]=n=>E("password","password_icon"))},[...t[45]||(t[45]=[o("i",{class:"bi bi-eye-slash-fill",id:"password_icon"},null,-1)])])]),a(y,{message:e(c).errors.password},null,8,["message"])])]),o("div",tt,[t[48]||(t[48]=o("div",{class:"col-5 col-lg-4"},[o("label",{for:"password_confirmation",class:"form-label my-1"},"Confirm Password")],-1)),o("div",st,[o("div",et,[k(o("input",{type:"password",class:"form-control form-control-sm",id:"password_confirmation","onUpdate:modelValue":t[11]||(t[11]=n=>e(c).password_confirmation=n),required:""},null,512),[[P,e(c).password_confirmation]]),o("button",{type:"button",class:"btn bg-light text-secondary",onClick:t[12]||(t[12]=n=>E("password_confirmation","password_confirmation_icon"))},[...t[47]||(t[47]=[o("i",{class:"bi bi-eye-slash-fill",id:"password_confirmation_icon"},null,-1)])])]),a(y,{message:e(c).errors.password_confirmation},null,8,["message"])])])]),t[50]||(t[50]=o("div",{class:"modal-footer p-1"},[o("button",{type:"submit",class:"btn btn-sm btn-primary"},s("Update"))],-1))],32)])])],512)):C("",!0)]),o("div",lt,[o("div",it,[o("div",nt,[o("img",{src:"/storage/images/profile/"+(((i=l.profile)==null?void 0:i.profile_image)??"example.png"),alt:"image",class:"img-fluid w-100 h-100 object-fit-cover rounded border-secondary-subtle border-1 shadow placeholder",onLoad:t[14]||(t[14]=(...n)=>e(mo)&&e(mo)(...n)),style:{"min-height":"200px"}},null,40,rt),o("a",{href:"/storage/images/profile/"+(((b=l.profile)==null?void 0:b.profile_image)??"example.png"),class:g("btn btn-sm btn-primary border-0 shadow rounded-5 position-absolute end-0 bottom-0 mb-2 "+(x.value.id!==l.profile.id?"me-2":"")),style:{"font-size":"0.6rem",padding:"0.15rem 0.34rem","margin-right":"2.5rem"},download:""},[...t[51]||(t[51]=[o("i",{class:"bi bi-download"},null,-1)])],10,at),x.value.id==l.profile.id?(m(),d("button",{key:0,onClick:t[15]||(t[15]=n=>co()),class:"btn btn-sm btn-primary border-0 shadow rounded-5 position-absolute end-0 bottom-0 me-2 mb-2"},[...t[52]||(t[52]=[o("i",{class:"bi bi-camera"},null,-1)])])):C("",!0),o("input",{ref_key:"inputProfileImageRef",ref:J,type:"file",class:"d-none",onChange:t[16]||(t[16]=(...n)=>Q&&Q(...n))},null,544)])]),o("div",dt,[o("div",mt,[t[54]||(t[54]=o("i",{class:"bi bi-person text-secondary d-lg-none fs-5 me-3 mt-1"},null,-1)),o("div",ut,[t[53]||(t[53]=o("p",{class:"text-secondary mb-0 mt-lg-3",style:{"font-size":"0.8rem"}},s("Name"),-1)),o("p",bt,s(l.profile.name),1)])]),o("div",pt,[t[56]||(t[56]=o("i",{class:"bi bi-person-badge text-secondary d-lg-none fs-5 me-3 mt-1"},null,-1)),o("div",null,[t[55]||(t[55]=o("p",{class:"text-secondary mb-0",style:{"font-size":"0.8rem"}},s("Role"),-1)),o("p",ft,s(l.profile.roles.name),1)])]),o("div",ct,[t[58]||(t[58]=o("i",{class:"bi bi-envelope-at text-secondary d-lg-none fs-5 me-3 mt-1"},null,-1)),o("div",null,[t[57]||(t[57]=o("p",{class:"text-secondary mb-0",style:{"font-size":"0.8rem"}},s("Email"),-1)),o("p",gt,s(l.profile.email),1)])]),o("div",vt,[t[61]||(t[61]=o("i",{class:"bi bi-whatsapp text-secondary d-lg-none fs-5 me-3 mt-1"},null,-1)),o("div",null,[t[60]||(t[60]=o("p",{class:"text-secondary mb-0",style:{"font-size":"0.8rem"}},s("Phone"),-1)),o("p",yt,[o("a",{href:"https://wa.me/+62"+l.profile.phone.slice(1),target:"_blank",class:"text-decoration-none text-primary"},[t[59]||(t[59]=o("i",{class:"bi bi-whatsapp d-none d-lg-inline"},null,-1)),v(" "+s(l.profile.phone),1)],8,wt)])])])])])]),o("div",xt,[t[64]||(t[64]=o("div",{class:"d-flex border-bottom border-secondary pb-1"},[o("span",{class:"text-secondary"},s("Duties and Obligations"))],-1)),o("div",kt,[o("button",{class:"btn btn-sm",onClick:t[17]||(t[17]=n=>S(2))},[...t[62]||(t[62]=[o("div",{class:"d-flex"},[o("i",{class:"bi bi-journal-bookmark rounded-4 fs-1 text-primary border border-primary-subtle border-1 shadow-sm py-1 px-2 d-block mx-auto"})],-1),o("span",{class:"fw-light d-block mt-1",style:{"font-size":"0.8rem"}},s("Logbook"),-1)])]),o("button",{class:"ms-4 btn btn-sm",onClick:t[18]||(t[18]=n=>S(3))},[...t[63]||(t[63]=[o("div",{class:"d-flex"},[o("i",{class:"bi bi-journal-text rounded-4 fs-1 text-primary border border-primary-subtle border-1 shadow-sm py-1 px-2 mx-auto"})],-1),o("span",{class:"fw-light d-block mt-1",style:{"font-size":"0.8rem"}},s("Contribution"),-1)])])])])],2)):C("",!0)]}),_:1}),x.value.id==l.profile.id?(m(),d("div",ht,[o("div",Ct,[o("div",Pt,[a(Y,{name:"fade-slide-rtl",onAfterLeave:t[26]||(t[26]=i=>D())},{default:L(()=>[U.value==2||z.value?(m(),d("div",Ut,[o("div",$t,[t[66]||(t[66]=o("span",{class:"w-100 text-primary-emphasis h5"},[o("i",{class:"bi bi-journal-bookmark me-2 fs-6"}),v(s("Logbook"))],-1)),o("button",{class:"btn btn-sm text-primary fw-light ms-auto p-0 d-lg-none d-flex",onClick:t[20]||(t[20]=i=>S(1))},[...t[65]||(t[65]=[o("i",{class:"bi bi-chevron-left"},null,-1),v(" "+s("Back"),-1)])])]),o("form",{onSubmit:t[25]||(t[25]=V(i=>po(),["prevent"]))},[o("div",Lt,[o("div",_t,[k(o("select",{class:g("form-select border-0 border-bottom "+(e(u).errors.program_id?"is-invalid":"")),id:"logbook_program","aria-label":"Floating label select example","onUpdate:modelValue":t[21]||(t[21]=i=>e(u).program_id=i),required:""},[t[67]||(t[67]=o("option",{value:"null",selected:""},s("Choose here"),-1)),(m(!0),d(_,null,T(l.program_list,i=>{var b;return m(),d("option",{value:i.program_id},s(((b=i.program)==null?void 0:b.name)+" as "+i.title),9,Rt)}),256))],2),[[ao,e(u).program_id]]),t[68]||(t[68]=o("label",{for:"logbook_program"},"Program",-1))]),a(y,{message:e(u).errors.program_id},null,8,["message"])]),o("div",jt,[o("div",St,[k(o("input",{type:"date",class:g("form-control border-0 border-bottom  "+(e(u).errors.date_time?"is-invalid":"")),id:"logbook_date","onUpdate:modelValue":t[22]||(t[22]=i=>e(u).date_time=i)},null,2),[[P,e(u).date_time]]),t[69]||(t[69]=o("label",{for:"logbook_date"},"Date & Time",-1))]),a(y,{message:e(u).errors.date_time},null,8,["message"])]),o("div",zt,[o("div",It,[o("input",{type:"file",class:g("form-control border-0 border-bottom  "+(e(u).errors.image?"is-invalid":"")),id:"logbook_image",ref_key:"logbookImageRef",ref:O,onChange:t[23]||(t[23]=(...i)=>X&&X(...i))},null,34),t[70]||(t[70]=o("label",{for:"logbook_image"},s("Image Photo"),-1))]),a(y,{message:e(u).errors.image},null,8,["message"])]),o("div",Vt,[o("div",Tt,[k(o("textarea",{class:"form-control border-0 border-bottom",id:"logbook_description",style:{height:"84px"},"onUpdate:modelValue":t[24]||(t[24]=i=>e(u).description=i),placeholder:"Add description of your activities"},null,512),[[P,e(u).description]]),t[71]||(t[71]=o("label",{for:"logbook_description"},s("Description"),-1))]),a(y,{message:e(u).errors.description},null,8,["message"])]),t[72]||(t[72]=o("div",{class:"mt-3"},[o("button",{type:"submit",class:"btn btn-sm btn-primary w-100"},s("Add Logbook"))],-1))],32),o("div",At,[t[75]||(t[75]=o("div",{class:"d-flex"},[o("button",{class:"btn btn-sm border-0 ms-auto text-primary text-decoration-none p-0",style:{"font-size":"0.7rem"},"data-bs-toggle":"collapse","data-bs-target":"#programListCollapse"},s("check my logbook"))],-1)),o("div",Mt,[(m(!0),d(_,null,T(l.program_list,i=>{var b;return m(),d("a",{href:r.route("checkLogbook",[i.program_id,x.value.id]),class:g("text-decoration-none ")},[o("div",{class:g("d-flex "+(l.program_list.indexOf(i)>0?"mt-2":"")),style:{"font-size":"0.8rem"}},[o("span",Ot,s(((b=i.program)==null?void 0:b.name)??i.program_id),1),t[73]||(t[73]=o("span",{class:"fw-light text-secondary mx-2"},s("as"),-1)),o("span",Ft,s(i.title),1),t[74]||(t[74]=o("i",{class:"bi bi-box-arrow-up-right ms-1 text-primary"},null,-1))],2)],8,Nt)}),256))])])])):C("",!0)]),_:1})]),o("div",Bt,[a(Y,{name:"fade-slide-rtl",onAfterLeave:t[31]||(t[31]=i=>D())},{default:L(()=>{var i,b,n,so,eo;return[U.value==3||z.value?(m(),d("div",Dt,[o("div",Et,[t[77]||(t[77]=o("span",{class:"w-100 text-primary-emphasis h5"},[o("i",{class:"bi bi-journal-text me-2 fs-6"}),v(s("Contribution"))],-1)),o("button",{class:"btn btn-sm text-primary fw-light ms-auto p-0 d-lg-none d-flex",onClick:t[27]||(t[27]=p=>S(1))},[...t[76]||(t[76]=[o("i",{class:"bi bi-chevron-left mb-0"},null,-1),v(" "+s("Back"),-1)])])]),t[84]||(t[84]=o("div",{class:"mt-2"},[o("span",{class:"text-secondary",style:{"font-size":"0.8rem"}},s("Your progress :"))],-1)),o("div",qt,[(m(!0),d(_,null,T(l.contribution_settings.period,p=>{var lo,io,no,ro;return m(),d("div",{class:g("btn shadow-sm px-1 py-0 me-1 "+(p+((lo=l.contribution_settings)==null?void 0:lo.start)-1<=R.value&&p>(l.contribution?(io=l.contribution)==null?void 0:io.months:0)?"bg-danger bg-opacity-25":"")+(p<=((no=l.contribution)==null?void 0:no.months)?"bg-primary bg-opacity-25":"bg-secondary bg-opacity-25 border-dark-subtle border-1"))},[o("span",{style:{"font-size":"0.7rem"},class:g("position-relative "+(p<=((ro=l.contribution)==null?void 0:ro.months)?"text-primary ":"text-secondary "))},s(e(Po)(p+l.contribution_settings.start-1,"short")),3)],2)}),256))]),t[85]||(t[85]=o("div",{class:"mt-2 d-flex"},[o("span",{class:"text-secondary me-2",style:{"font-size":"0.8rem"}},s("Status :"))],-1)),o("div",Yt,[o("span",Wt,s(l.contribution_settings.start+(l.contribution?l.contribution.months-1:0)<=R.value?"You have unpaid bill for "+(R.value-((i=l.contribution_settings)==null?void 0:i.start)-(l.contribution?l.contribution.months-1:-1)+(R.value-((b=l.contribution_settings)==null?void 0:b.start)-(l.contribution?l.contribution.months-1:-1)>1?" months":" month")):"You are on track."),1)]),o("form",{onSubmit:t[30]||(t[30]=V(p=>fo(),["prevent"]))},[o("div",Ht,[o("div",Gt,[k(o("select",{class:g("form-select border-0 border-bottom "+(e(w).errors.month?"is-invalid":"")),id:"contribution_month","aria-label":"Floating label select example","onUpdate:modelValue":t[28]||(t[28]=p=>e(w).month=p),required:""},[t[78]||(t[78]=o("option",{value:"null",selected:""},s("Choose here"),-1)),(m(!0),d(_,null,T(((n=l.contribution_settings)==null?void 0:n.period)-(l.contribution?(so=l.contribution)==null?void 0:so.months:0),p=>(m(),d("option",{value:p,class:"position-relative"},s(p+(p>1?" months":" month")),9,Jt))),256))],2),[[ao,e(w).month]]),t[79]||(t[79]=o("label",{for:"contribution_month"},s("Pay for"),-1))]),a(y,{message:e(w).errors.month},null,8,["message"])]),o("div",Kt,[o("div",Qt,[o("input",{type:"file",class:g("form-control border-0 border-bottom  "+(e(w).errors.receipt?"is-invalid":"")),id:"contribution_receipt",ref_key:"contributionReceiptRef",ref:F,onChange:t[29]||(t[29]=(...p)=>Z&&Z(...p))},null,34),t[80]||(t[80]=o("label",{for:"contribution_receipt"},s("Receipt"),-1))]),a(y,{message:e(w).errors.receipt},null,8,["message"])]),o("div",Xt,[t[81]||(t[81]=o("span",{class:"ms-auto text-secondary"},s("Price : "),-1)),o("span",Zt,s(e(Uo)(((eo=l.contribution_settings)==null?void 0:eo.price)*e(w).month)),1)]),t[82]||(t[82]=o("div",{class:"mt-3"},[o("button",{type:"submit",class:"btn btn-sm btn-primary w-100"},s("Add Contribution"))],-1))],32),o("div",os,[o("a",{class:"ms-auto text-primary text-decoration-none",style:{"font-size":"0.7rem"},href:r.route("checkContribution",x.value.id)},[...t[83]||(t[83]=[v(s("check my contribution")+" ",-1),o("i",{class:"bi bi-box-arrow-up-right ms-1"},null,-1)])],8,ts)])])):C("",!0)]}),_:1})])])])):C("",!0)])])]),_:1}),a(ho,{ref_key:"toastNotifRef",ref:A},null,512)],64))}};export{ms as default};
